/*
 * Queue_Can.h
 *
 *  Created on: Aug 15, 2025
 */

#ifndef QUEUE_CAN_QUEUE_CAN_H_
#define QUEUE_CAN_QUEUE_CAN_H_

#if defined(__cplusplus)
extern "C"{
#endif

/*==================================================================================================
 *                                          INCLUDE FILES
 * 1) system and project includes
 * 2) needed interfaces from external units
 * 3) internal and external interfaces from this unit
 ==================================================================================================*/
#include "main.h"
#include "Common.h"
#include "Vmu_Msg.h"
/*==================================================================================================
 *                               SOURCE FILE VERSION INFORMATION
 ==================================================================================================*/

/*==================================================================================================
 *                                      FILE VERSION CHECKS
 ==================================================================================================*/

/*==================================================================================================
 *                                            CONSTANTS
 ==================================================================================================*/

/*==================================================================================================
 *                                       DEFINES AND MACROS
 ==================================================================================================*/
#define QUEUE_CAN_MAX_SIZE 5U
/*==================================================================================================
 *                                              ENUMS
 ==================================================================================================*/

/*==================================================================================================
 *                                  STRUCTURES AND OTHER TYPEDEFS
 ==================================================================================================*/
#define CAN_QUEUE_SIZE 100

typedef struct
{
    CanMsgRxType buffer[CAN_QUEUE_SIZE];
    uint16_t head;
    uint16_t tail;
} CanQueue_t;

/*==================================================================================================
 *                                  GLOBAL VARIABLE DECLARATIONS
 ==================================================================================================*/
extern CanQueue_t CanRxQueue;
/*==================================================================================================
 *                                       FUNCTION PROTOTYPES
 ==================================================================================================*/
void CanQueue_Init(CanQueue_t *q);
Std_ReturnType CanQueue_Push(CanQueue_t *q, CanMsgRxType *frame);
Std_ReturnType CanQueue_Pop(CanQueue_t *q, CanMsgRxType *frame);
Std_ReturnType CanQueue_IsEmpty(CanQueue_t *q);

#if defined(__cplusplus)
}
#endif /* __cplusplus*/

#endif /* QUEUE_CAN_QUEUE_CAN_H_ */
